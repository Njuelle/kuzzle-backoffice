<div class="browse-documents" ng-controller="StorageBrowseDocumentsCtrl" ng-init="init()">

    <div class="row create">
        <button type="button" class="btn btn-success" ui-sref="storage.create({collection: collection})">Add</button>
    </div>

    <div class="row">
        <div class="panel panel-default filters">
            <div class="panel-body">
                <uib-tabset>
                    <uib-tab heading="Basic filter" active="searchType.basic">

                        <storage-basic-filter
                                add-group-label="Add group"
                                filters="filter.basicFilter"
                                collection="collection"
                                filter-in-url="basicFilterUrl"
                                comparators="comparators">
                        </storage-basic-filter>

                        <div class="form-group">
                            <button type="submit" class="btn btn-default" ng-click="basicSearch()">Submit</button>
                        </div>
                    </uib-tab>
                    <uib-tab heading="Advanced filter" active="searchType.advanced">
                        <form name="forms.advancedSearch">
                            <div class="form-group">
                                <label for="filter">Filter</label>
                                <p class="text-danger" ng-show="error" ng-bind="error"></p>
                                <json-edit content="filter.advancedFilter"></json-edit>

                                <div class="form-group">
                                    <button type="submit" class="btn btn-default" ng-click="advancedSearch()">Submit</button>
                                    <a href ng-click="resetAdvancedFilter()">Clear</a>
                                </div>
                            </div>
                        </form>
                    </uib-tab>
                </uib-tabset>
            </div>
        </div>
    </div>

    <div class="row" ng-if="documents.length == 0">
        <p>There is no document matching the collection <strong ng-bind="collection"></strong> with provided filters.</p>
    </div>

    <storage-documents-inline documents="documents" collection="collection"></storage-documents-inline>

    <div class="row total-documents"  ng-show="documents.length != 0">
        <p class="col-sm-1 pull-right"><span ng-bind="documents.length">0</span>/<span ng-bind="total">0</span></p>
    </div>
    <div class="pull-right">
        <uib-pagination
                total-items="total"
                ng-model="currentPage"
                max-size="5"
                class="pagination-sm"
                boundary-links="true"
                rotate="false"
                ng-change="loadDocuments()"
                num-pages="numPages"
                previous-text="Prev"
                next-text="Next"
                items-per-page="limit"
                ng-model="currentPage"
                ng-show="documents.length > 0">
        </uib-pagination>
    </div>
</div>
