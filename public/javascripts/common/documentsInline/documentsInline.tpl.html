<div class="row documents" ng-repeat="document in documents">
    <div id="{{document.id}}" class="panel panel-default" ng-class="{deleted: document.isDeleted}">
        <div class="panel-body">
            <div class="row">
                <!-- title col -->
                <!-- collection/documents -->
                <div class="col-sm-2 document-id ellipsis"
                     ng-if="collection"
                     uib-popover="{{document.id}}" popover-placement="top" popover-animation="false">
                    <span title="Display the whole ID" ng-bind="document.id"></span>
                </div>
                <!-- /collection/documents -->

                <!-- roles -->
                <div class="col-sm-2 document-id ellipsis"
                     ng-if="role">
                    <span title="Display the whole ID" ng-bind="document.id"></span>
                </div>
                <!-- /roles -->

                <!-- profiles -->
                <div class="col-sm-1 document-id ellipsis" ng-if="profile">
                    <span class="" title="Display the whole ID" ng-bind="document.id"></span>
                </div>

                <div class="col-sm-1" ng-if="profile">
                    <div class="btn-group-vertical btn-group-xs roles-list">
                        <button type="button" class="btn btn-default"
                                ng-repeat="role in document.content.roles"
                                ui-sref="role.full({role: role})"
                                ng-bind="role">
                        </button>
                    </div>
                </div>
                <!-- /profiles -->

                <!-- users -->
                <div class="col-sm-1 document-id ellipsis" ng-if="user">
                    <span title="Display the whole ID" ng-bind="document.id"></span>
                </div>

                <div class="col-sm-1" ng-if="user">
                    <div class="btn-group-vertical btn-group-xs profiles-list">
                        <button type="button" class="btn btn-default"
                                ui-sref="profile.full({profile: document.content.profile})"
                                ng-bind="document.content.profile"></button>
                    </div>
                </div>
                <!-- users -->
                <!-- /title col -->
                <!-- edit col -->
                <div class="col-sm-8">
                    <json-formatter open="0" json="document.content" ng-if="!document.isEdit"></json-formatter>
                    <json-edit ng-if="canEdit && document.isEdit" content="document.json"></json-edit>
                </div>
                <!-- /edit col -->

                <document-toolbar
                        ng-if="collection"
                        can-edit="canEdit"
                        document="document"
                        after-delete="afterDelete(document)"
                        collection="collection">
                </document-toolbar>
                <role-toolbar
                        ng-if="role"
                        can-edit="canEdit"
                        after-delete="afterDelete(document)"
                        document="document">
                </role-toolbar>
                <profile-toolbar
                        ng-if="profile"
                        can-edit="canEdit"
                        after-delete="afterDelete(document)"
                        document="document">
                </profile-toolbar>
                <user-toolbar
                        ng-if="user"
                        can-edit="canEdit"
                        after-delete="afterDelete(document)"
                        document="document">
                </user-toolbar>
            </div>

        </div>
    </div>
</div>
