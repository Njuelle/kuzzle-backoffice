<div class="row documents" ng-repeat="document in documents">
    <div id={{document.id}} class="panel panel-default" ng-class="{deleted: document.isDeleted}">
        <div class="panel-body">
            <div class="row">
                <!-- title col -->
                <div class="col-sm-2 document-id ellipsis"
                     ng-show="collection"
                     uib-popover="{{document._id}}" popover-placement="top" popover-animation="false">
                    <span title="Display the whole ID" ng-bind="document._id"></span>
                </div>

                <div class="col-sm-2 document-id ellipsis"
                     ng-show="role">
                    <span title="Display the whole ID" ng-bind="document.id"></span>
                </div>

                <div class="col-sm-1 document-id ellipsis" ng-show="profile">
                    <span class="" title="Display the whole ID" ng-bind="document.id"></span>
                </div>

                <div class="col-sm-1" ng-show="profile">
                    <div class="btn-group-vertical btn-group-xs">
                        <button type="button" class="btn btn-default"
                                ng-repeat="role in document.content.roles"
                                ui-sref="role.full({role: role})"
                                ng-bind="role"></button>
                    </div>
                </div>

                <div class="col-sm-2 document-id ellipsis"
                     ng-show="user"
                     uib-popover="{{document.content.profile}}" popover-placement="right" popover-animation="false">
                    <span title="Display the whole ID" ng-bind="document.id"></span>
                </div>
                <!-- /title col -->

                <!-- edit col -->
                <div class="col-sm-8">
                    <json-formatter open="0" json="document.body" ng-show="!document.isEdit && collection"></json-formatter>
                    <json-formatter open="0" json="document.content" ng-show="!document.isEdit && (role || profile || user)"></json-formatter>

                    <json-edit ng-if="canEdit && document.isEdit" content="document.json"></json-edit>
                </div>
                <!-- /edit col -->

                <document-toolbar
                        ng-if="collection"
                        can-edit="canEdit"
                        document="document"
                        after-delete="afterDelete()"
                        collection="collection">
                </document-toolbar>
                <role-toolbar
                        ng-if="role"
                        can-edit="canEdit"
                        after-delete="afterDelete(document)"
                        document="document">
                </role-toolbar>
                <profile-toolbar
                        ng-if="profile"
                        can-edit="canEdit"
                        after-delete="afterDelete()"
                        document="document">
                </profile-toolbar>
                <user-toolbar
                        ng-if="user"
                        can-edit="canEdit"
                        after-delete="afterDelete()"
                        document="document">
                </user-toolbar>
            </div>

        </div>
    </div>
</div>
